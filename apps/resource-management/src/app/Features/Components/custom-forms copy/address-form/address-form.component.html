
<form nz-form id="myForm" [formGroup]="addressForm" [nzLayout]="'vertical'">
  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="country"
      >Country</nz-form-label
    >
    <nz-form-control
      [nzSm]="18"
      [nzXs]="24" [nzValidateStatus]="errorMessages.controls.country.state"
      [nzErrorTip]="errorMessages.controls.country.message"
    >
      <nz-select
        formControlName="country"
        nzShowSearch
        nzAllowClear
        (ngModelChange)="onSelectCountry()"
      >
        <ng-container *ngFor="let country of countries">
          <nz-option
            nzValue="{{ country }}"
            nzLabel="{{ country }}"
          ></nz-option>
        </ng-container>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="state">
      <ng-container *ngIf="isEthiopia; else state">Region</ng-container>
      <ng-template #state>State/Provice</ng-template>
    </nz-form-label>
    <nz-form-control
      [nzSm]="18"
      [nzXs]="24" [nzValidateStatus]="errorMessages.controls.state.state"
      [nzErrorTip]="errorMessages.controls.state.message"
    >
      <nz-select
        formControlName="state"
        nzShowSearch
        nzAllowClear
        nzPlaceHolder="Input the state/region/province"
      >
        <ng-container *ngFor="let state of listOfStates">
          <nz-option
            nzValue="{{ state }}"
            nzLabel="{{ state }}"
          ></nz-option>
        </ng-container>
      </nz-select>
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="city"
      >City</nz-form-label
    >
    <nz-form-control
      [nzSm]="18"
      [nzXs]="24" [nzValidateStatus]="errorMessages.controls.city.state"
      [nzErrorTip]="errorMessages.controls.city.message"
    >
      <input nz-input formControlName="city" id="city" />
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzRequired nzFor="subCityZone">
      <ng-container *ngIf="isEthiopia; else addressLine1"
        >Sub-City/Zone</ng-container
      >
      <ng-template #addressLine1>Address Line 1</ng-template>
    </nz-form-label>
    <nz-form-control
      [nzSm]="18"
      [nzXs]="24" [nzValidateStatus]="errorMessages.controls.subCityZone.state"
      [nzErrorTip]="errorMessages.controls.subCityZone.message"
    >
      <input nz-input formControlName="subCityZone" id="subCityZone" />
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="woreda">
      <ng-container *ngIf="isEthiopia; else addressLine2"
        >Woreda</ng-container
      >
      <ng-template #addressLine2>Address Line 2</ng-template>
    </nz-form-label>
    <nz-form-control [nzSm]="18" [nzXs]="24"
    [nzValidateStatus]="errorMessages.controls.woreda.state"
    [nzErrorTip]="errorMessages.controls.woreda.message">
      <input nz-input formControlName="woreda" id="woreda" />
    </nz-form-control>
  </nz-form-item>
  <ng-container *ngIf="isEthiopia">
    <nz-form-item>
      <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="houseNumber"
        >House Number</nz-form-label
      >
      <nz-form-control [nzSm]="18" [nzXs]="24"
      [nzValidateStatus]="errorMessages.controls.houseNumber.state"
      [nzErrorTip]="errorMessages.controls.houseNumber.message">
        <input nz-input formControlName="houseNumber" id="houseNumber" />
      </nz-form-control>
    </nz-form-item>
  </ng-container>
  <nz-form-item>
    <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="postalCode">
      <ng-container *ngIf="isEthiopia; else zipcode"
        >Postal Code</ng-container
      >
      <ng-template #zipcode>Postal/Zip Code</ng-template>
    </nz-form-label>
    <nz-form-control [nzSm]="18" [nzXs]="24"
    [nzValidateStatus]="errorMessages.controls.postalCode.state"
    [nzErrorTip]="errorMessages.controls.postalCode.message">
      <input nz-input formControlName="postalCode" id="postalCode" />
    </nz-form-control>
  </nz-form-item>
  <nz-form-item>
    <nz-form-label
      [nzSm]="6"
      [nzXs]="24"
      nzFor="phoneNumber"
      nzRequired
      >Phone Number</nz-form-label
    >
    <nz-form-control
      [nzSm]="18"
      [nzXs]="24"
      [nzValidateStatus]="addressForm.controls['phoneNumber']"
      
    [nzValidateStatus]="errorMessages.controls.phoneNumber.state"
    [nzErrorTip]="errorMessages.controls.phoneNumber.message"
    >
      <nz-input-group [nzAddOnBefore]="addOnBeforeTemplate">
        <ng-template #addOnBeforeTemplate>
          <nz-select
            formControlName="phoneNumberPrefix"
            nzShowSearch
            class="phone-select"
          >
            <ng-container *ngFor="let code of listofCodes">
              <nz-option
                nzValue="{{ code }}"
                nzLabel="{{ code }}"
              ></nz-option>
            </ng-container>
          </nz-select>
        </ng-template>
        <input
          formControlName="phoneNumber"
          id="'phoneNumber'"
          nzPlaceHolder="911223344"
          nz-input
        />
      </nz-input-group>
    </nz-form-control>
  </nz-form-item>
</form>